<div class="controls">
  <div class="field">
    <label for="start-date">Start Date</label>
    <dx-date-box
      id="start-date"
      [(value)]="startDate"
      (onValueChanged)="getCandles()"
    ></dx-date-box>
  </div>
  <div class="field">
    <label for="end-date">End Date</label>
    <dx-date-box
      id="end-date"
      [(value)]="endDate"
      (onValueChanged)="getCandles()"
    ></dx-date-box>
  </div>
  <div class="field">
    <label>Resolution</label>
    <dx-select-box
      id="resolution"
      [(value)]="resolution"
      [items]="resolutionOptions"
      displayExpr="label"
      valueExpr="value"
      (onValueChanged)="getCandles()"
    ></dx-select-box>
  </div>
</div>

<dx-chart id="stock-candles" [dataSource]="data" [title]="title || symbol">
  <dxo-loading-indicator
    [enabled]="true"
    [(show)]="loading"
  ></dxo-loading-indicator>
  <dxi-series
    [name]="symbol"
    openValueField="o"
    highValueField="h"
    lowValueField="l"
    closeValueField="c"
  >
    <dxo-reduction color="red"></dxo-reduction>
  </dxi-series>
  <dxo-common-series-settings
    valueField="o ยง"
    argumentField="t"
    type="candlestick"
  >
  </dxo-common-series-settings>
  <dxi-value-axis [tickInterval]="1">
    <dxo-title text="USD"></dxo-title>
    <dxo-label>
      <dxo-format type="currency" [precision]="0"> </dxo-format>
    </dxo-label>
  </dxi-value-axis>
  <dxo-argument-axis>
    <dxo-label format="shortDate"></dxo-label>
  </dxo-argument-axis>
  <dxo-tooltip
    [enabled]="true"
    location="edge"
    [customizeTooltip]="customizeTooltip"
  >
  </dxo-tooltip>
</dx-chart>
